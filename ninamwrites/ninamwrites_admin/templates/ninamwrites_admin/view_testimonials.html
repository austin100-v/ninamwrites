{% extends "ninamwrites_admin/base.html" %}

{% block extrahead %}
<style>
    h1 {
        font-family: 'Playfair Display', serif;
        font-size: clamp(1rem, calc(1vw + 1rem), 2rem);
        margin-bottom: 20px;
    }
    table {
        width: clamp(300px, calc(100vw - 40px), 600px);
        border-collapse: collapse;
    }
    thead, tbody, td {
        padding: 10px;
        text-align: left;
    }
    thead {
        background-color: #1e3a8a;
        color: white;
    }
    tbody tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    tbody tr:hover {
        background-color: #ddd;
    }
    a {
        color: #1e3a8a;
    }
    a:hover {
        color: #2563eb;
    }
</style>
{% endblock %}

{% block content %}
<h1 class="page-title">
    <i class="fas fa-star"></i>
    Customer Testimonials
</h1>

<div class="card">
    {% if testimonials %}
        <div class="table-container">
            <table class="professional-table">
                <thead>
                    <tr>
                        <th><i class="fas fa-user"></i> Author</th>
                        <th><i class="fas fa-quote-left"></i> Content</th>
                        <th><i class="fas fa-star"></i> Rating</th>
                        <th><i class="fas fa-calendar"></i> Date</th>
                        <th><i class="fas fa-toggle-on"></i> Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for testimonial in testimonials %}
                    <tr>
                        <td><strong>{{ testimonial.author }}</strong></td>
                        <td>{{ testimonial.content|truncatechars:100 }}</td>
                        <td>{{ testimonial.rating }}/5</td>
                        <td>{{ testimonial.created_at|date:"M d, Y" }}</td>
                        <td>
                            {% if testimonial.is_active %}
                                <span style="color: var(--success-color);">
                                    <i class="fas fa-check"></i> Active
                                </span>
                            {% else %}
                                <span style="color: var(--secondary-color);">
                                    <i class="fas fa-times"></i> Inactive
                                </span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div class="empty-state">
            <i class="fas fa-star"></i>
            <h3>No testimonials yet</h3>
            <p>Customer testimonials will appear here once they start leaving reviews.</p>
        </div>
    {% endif %}
</div>
{% endblock %}